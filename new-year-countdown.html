<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e, #0f3b58);
            background-size: 100% 100%;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            color: #e0e0e0;
            overflow: hidden;
        }

        .container {
            text-align: center;
            background: rgba(10, 15, 30, 0.7);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: absolute;
            top: 20px;
            left: 20px;
            backdrop-filter: blur(10px);
            max-width: 400px;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9);
            letter-spacing: 1px;
            font-weight: 300;
            color: #ffffff;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            align-items: flex-start;
        }

        .time-unit {
            background: rgba(20, 30, 50, 0.6);
            border-radius: 12px;
            padding: 12px 10px;
            min-width: 70px;
            max-width: 70px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(100, 150, 200, 0.3);
            transition: transform 0.2s ease;
            text-align: center;
        }

        .time-unit:hover {
            transform: translateY(-3px);
        }

        .time-number {
            font-size: 1.8rem;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
            color: #ffffff;
        }

        .time-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
            font-weight: 300;
            line-height: 1;
            text-align: center;
            color: #a0c4ff;
        }

        .message {
            margin-top: 20px;
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
            color: #d1e8ff;
        }

        .additional-info {
            margin-top: 15px;
            font-size: 0.8rem;
            opacity: 0.8;
            font-weight: 300;
            color: #a0c4ff;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        .info-item {
            background: rgba(100, 150, 200, 0.2);
            padding: 5px 10px;
            border-radius: 8px;
            border: 1px solid rgba(100, 150, 200, 0.3);
        }

        .current-date {
            margin-top: 10px;
            font-size: 0.7rem;
            opacity: 0.7;
            color: #89c4f4;
            font-style: italic;
        }

        .snowflake {
            position: absolute;
            top: -30px;
            color: #ffffff;
            font-size: 20px;
            pointer-events: none;
            opacity: 0.8;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            z-index: 1;
            animation: fall linear;
        }

        .snowdrift {
            position: absolute;
            bottom: 0px;
            left: 0;
            height: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 100% 100% 0 0;
            z-index: 100;
            transition: height 2s ease-out;
            overflow: hidden;
            box-shadow: 
                0 -5px 15px rgba(0, 0, 0, 0.3);
        }

        .snowdrift::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: -5%;
            width: 110%;
            height: 100%;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 100% 100% 0 0;
            animation: snowdrift-wobble 15s ease-in-out infinite;
        }

        .snowdrift::after {
            content: '';
            position: absolute;
            bottom: 2px;
            left: -2%;
            width: 104%;
            height: 100%;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 100% 100% 0 0;
            animation: snowdrift-wobble 20s ease-in-out infinite reverse;
        }

        @keyframes snowdrift-wobble {
            0%, 100% {
                transform: scaleX(1) skewX(0deg);
            }
            25% {
                transform: scaleX(1.02) skewX(1deg);
            }
            50% {
                transform: scaleX(0.98) skewX(-0.5deg);
            }
            75% {
                transform: scaleX(1.01) skewX(0.3deg);
            }
        }

        .snow-particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: snowdrift-float 8s ease-in-out infinite;
        }

        @keyframes snowdrift-float {
            0% {
                transform: translateX(0) translateY(0);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateX(20px) translateY(-10px);
                opacity: 0;
            }
        }

        @keyframes fall {
            0% {
                transform: translateY(-10vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                top: 10px;
                left: 10px;
                max-width: 90vw;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .time-number {
                font-size: 1.8rem;
            }
            
            .time-unit {
                padding: 12px;
                min-width: 70px;
            }
        }

        .firework {
            position: absolute;
            width: 3px;
            height: 3px;
            border-radius: 50%;
            opacity: 0;
            z-index: 200;
        }

        .firework-spark {
            position: absolute;
            width: 2px;
            height: 2px;
            border-radius: 50%;
            animation: spark-explode 1.2s ease-out forwards;
            opacity: 0;
            z-index: 199;
        }

        @keyframes launch {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            30% {
                opacity: 1;
            }
            90% {
                transform: translateY(calc(var(--target-height) + 0px)) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(var(--target-height) + 0px)) scale(1);
                opacity: 0;
            }
        }

        @keyframes explode {
            0% {
                transform: scale(1);
                opacity: 1;
                box-shadow: 0 0 15px 5px rgba(255, 255, 255, 0.9);
            }
            20% {
                transform: scale(8);
                box-shadow: 0 0 30px 15px rgba(255, 255, 255, 0.8);
            }
            40% {
                transform: scale(15);
                box-shadow: 0 0 40px 20px rgba(255, 255, 255, 0.7);
            }
            60% {
                transform: scale(25);
                box-shadow: 0 0 50px 25px rgba(255, 255, 255, 0.6);
            }
            100% {
                transform: scale(35);
                opacity: 0;
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }

        @keyframes spark-explode {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            20% {
                transform: translate(0, 0) scale(1.5);
                opacity: 1;
            }
            100% {
                transform: translate(100px, 100px) scale(1);
                opacity: 0;
            }
        }


        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã */
        .center-time {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
        }

        .current-time {
            font-size: 3.5rem;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            font-family: 'Courier New', monospace;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .current-full-date {
            font-size: 1.2rem;
            color: #a0c4ff;
            opacity: 0.9;
            font-weight: 300;
            text-shadow: 0 0 10px rgba(160, 196, 255, 0.3);
        }

        .weather-container {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(10, 15, 30, 0.7);
            border-radius: 15px;
            padding: 15px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            max-width: 250px;
            text-align: center;
        }

        .weather-title {
            font-size: 0.9rem;
            color: #ffffff;
            margin-bottom: 10px;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
            font-weight: 300;
        }

        .weather-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
        }

        .weather-temp {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 5px;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
        }

        .weather-desc {
            font-size: 0.8rem;
            color: #a0c4ff;
            opacity: 0.9;
            margin-bottom: 5px;
            text-transform: capitalize;
        }

        .weather-details {
            font-size: 0.7rem;
            color: #89c4f4;
            opacity: 0.8;
            line-height: 1.4;
        }

        .weather-detail-item {
            display: flex;
            justify-content: space-between;
            margin: 2px 0;
        }

        .weather-precipitation {
            display: none;
        }

        .weather-loading {
            color: #a0c4ff;
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .weather-error {
            color: #ff6b6b;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .weather-container {
                top: 10px;
                right: 10px;
                padding: 10px 15px;
                max-width: 200px;
            }
            
            .weather-temp {
                font-size: 1.5rem;
            }
            
            .weather-icon {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .center-time {
                top: 45%;
            }
            
            .current-time {
                font-size: 2.5rem;
            }
            
            .current-full-date {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–î–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞</h1>
        
        <div class="countdown">
            <div class="time-unit">
                <span id="days" class="time-number">0</span>
                <div class="time-label">–î–Ω–µ–π</div>
            </div>
            <div class="time-unit">
                <span id="hours" class="time-number">0</span>
                <div class="time-label">–ß–∞—Å–æ–≤</div>
            </div>
            <div class="time-unit">
                <span id="minutes" class="time-number">0</span>
                <div class="time-label">–ú–∏–Ω—É—Ç</div>
            </div>
            <div class="time-unit">
                <span id="seconds" class="time-number">0</span>
                <div class="time-label">–°–µ–∫—É–Ω–¥</div>
            </div>
        </div>
        
        <div id="message" class="message">
            –ü—Ä–∞–∑–¥–Ω–∏–∫ —É–∂–µ –±–ª–∏–∑–∫–æ! üéÑ
        </div>

        <!-- –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è JavaScript -->
        <div style="display: none;">
            <span id="current-date">-</span>
            <span id="full-date">-</span>
            <span id="days-in-year">-</span>
            <span id="percent-year">-</span>
            <span id="days-remaining">-</span>
        </div>
    </div>

    <!-- –ë–ª–æ–∫ –ø–æ–≥–æ–¥—ã -->
    <div class="weather-container">
        <div class="weather-title">–ü–æ–≥–æ–¥–∞ –≤ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–µ</div>
        <div id="weather-icon" class="weather-icon">‚ùÑÔ∏è</div>
        <div id="weather-temp" class="weather-temp">-12¬∞C</div>
        <div id="weather-desc" class="weather-desc">–°–Ω–µ–≥</div>
        <div id="weather-details" class="weather-details">
            <div class="weather-detail-item">
                <span>–û—â—É—â–∞–µ—Ç—Å—è:</span>
                <span id="weather-feels">-18¬∞C</span>
            </div>
            <div class="weather-detail-item">
                <span>–í–ª–∞–∂–Ω–æ—Å—Ç—å:</span>
                <span id="weather-humidity">85%</span>
            </div>
            <div class="weather-detail-item">
                <span>–í–µ—Ç–µ—Ä:</span>
                <span id="weather-wind">5 –º/—Å</span>
            </div>
            <div class="weather-detail-item weather-precipitation" id="weather-precipitation" style="display: none;">
                <span>–û—Å–∞–¥–∫–∏:</span>
                <span id="weather-rain">0 –º–º</span>
            </div>
        </div>
        <div id="weather-loading" class="weather-loading" style="display: none;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <div id="weather-error" class="weather-error" style="display: none;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≥–æ–¥—ã</div>
    </div>

    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∏ –¥–∞—Ç–∞ -->
    <div class="center-time">
        <div class="current-time" id="current-time">00:00:00</div>
        <div class="current-full-date" id="current-full-date">-</div>
    </div>

    <!-- –°—É–≥—Ä–æ–±—ã -->
    <div class="snowdrift" id="snowdrift"></div>


    <script>
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Ü–µ–Ω—Ç—Ä–µ
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            });
            
            const fullDateString = now.toLocaleDateString('ru-RU', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('current-time').textContent = timeString;
            document.getElementById('current-full-date').textContent = fullDateString;
        }

        // –°–æ–∑–¥–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏
        function createSnowflakes() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.textContent = '‚ùÑ';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 4 + 3 + 's';
            snowflake.style.opacity = '0';
            document.body.appendChild(snowflake);
            
            // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                snowflake.style.opacity = '0.8';
            }, 10);
            
            setTimeout(() => {
                if (snowflake.parentNode) {
                    snowflake.remove();
                }
            }, 7000);
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        function updateAdditionalInfo() {
            const now = new Date();
            const currentYear = now.getFullYear();
            
            // –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('current-date').textContent = now.toLocaleDateString('ru-RU', { month: '2-digit', day: '2-digit' });
            document.getElementById('full-date').textContent = now.toLocaleDateString('ru-RU', options);
            
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏—Å–æ–∫–æ—Å–Ω—ã–π –ª–∏ –≥–æ–¥
        const isLeapYear = (currentYear % 4 === 0 && currentYear % 100 !== 0) || (currentYear % 400 === 0);
        const daysInYear = isLeapYear ? 366 : 365;
        document.getElementById('days-in-year').textContent = daysInYear;
        
        // –î–µ–Ω—å –≥–æ–¥–∞
        const start = new Date(currentYear, 0, 0);
        const diff = now - start;
        const dayOfYear = Math.floor(diff / 86400000);
        
        // –ü—Ä–æ—Ü–µ–Ω—Ç –≥–æ–¥–∞
        const percent = Math.round((dayOfYear / daysInYear) * 100);
        document.getElementById('percent-year').textContent = percent;
        
        // –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
        const remainingPercent = 100 - percent;
        document.getElementById('days-remaining').textContent = remainingPercent;
        }

        // –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∏ (–µ—Å–ª–∏ –¥–æ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω—å—à–µ –¥–Ω—è)
        function createFireworks() {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –∏ –≤—ã—Å–æ—Ç—É –¥–ª—è —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
            const randomLeft = Math.random() * 100;
            const randomHeight = Math.random() * (window.innerHeight * 0.7 - 100) + 100;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –≤ –ø–∏–∫—Å–µ–ª—è—Ö
            const x = (randomLeft / 100) * window.innerWidth;
            const y = window.innerHeight - randomHeight;
            
            // –°–æ–∑–¥–∞–µ–º –∏—Å–∫—Ä—ã —Å—Ä–∞–∑—É –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞
            createFireworkSparks(x, y);
        }

        // –°–æ–∑–¥–∞–µ–º –∏—Å–∫—Ä—ã —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
        function createFireworkSparks(x, y) {
            const colors = [
                '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7',
                '#dda0dd', '#98d8c8', '#f7b7a3', '#eb8f8f', '#fdf75d'
            ];
            
            const sparkCount = 12 + Math.floor(Math.random() * 8); // 12-20 –∏—Å–∫—Ä
            
            for (let i = 0; i < sparkCount; i++) {
                const spark = document.createElement('div');
                spark.className = 'firework-spark';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–ª–µ—Ç–∞
                const angle = (Math.PI * 2 * i) / sparkCount;
                const distance = 50 + Math.random() * 100;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
                spark.style.left = x + 'px';
                spark.style.top = y + 'px';
                spark.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                spark.style.boxShadow = `0 0 8px 2px ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é keyframes
                const keyframes = [
                    { 
                        transform: 'translate(0, 0) scale(0)', 
                        opacity: 1 
                    },
                    { 
                        transform: 'translate(0, 0) scale(1.5)', 
                        opacity: 1,
                        offset: 0.2
                    },
                    { 
                        transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(1)`, 
                        opacity: 0 
                    }
                ];
                
                spark.animate(keyframes, {
                    duration: 1200,
                    easing: 'ease-out'
                });
                
                document.body.appendChild(spark);
                
                // –£–¥–∞–ª—è–µ–º –∏—Å–∫—Ä—É –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (spark.parentNode) {
                        spark.remove();
                    }
                }, 1200);
            }
        }

        function updateCountdown() {
            const now = new Date();
            const currentYear = now.getFullYear();
            const nextYear = currentYear + 1;
            
            // –ù–æ–≤—ã–π –≥–æ–¥ - 1 —è–Ω–≤–∞—Ä—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞
            const newYear = new Date(nextYear, 0, 1);
            
            const diff = newYear - now;
            
            // –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è, –∑–Ω–∞—á–∏—Ç –ù–æ–≤—ã–π –≥–æ–¥ —É–∂–µ –ø—Ä–æ—à–µ–ª
            if (diff <= 0) {
                document.getElementById('days').textContent = '0';
                document.getElementById('hours').textContent = '0';
                document.getElementById('minutes').textContent = '0';
                document.getElementById('seconds').textContent = '0';
                document.getElementById('message').textContent = '–° –ù–æ–≤—ã–º –ì–æ–¥–æ–º! üéâ';
                return;
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–Ω–∏, —á–∞—Å—ã, –º–∏–Ω—É—Ç—ã –∏ —Å–µ–∫—É–Ω–¥—ã
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (days === 0) {
                document.getElementById('message').textContent = '–ù–æ–≤—ã–π –≥–æ–¥ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è! üéä';
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∏, –µ—Å–ª–∏ –¥–æ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å
                if (Math.random() < 0.5) {
                    createFireworks();
                }
            } else if (days === 1) {
                document.getElementById('message').textContent = '–î–æ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª—Å—è –≤—Å–µ–≥–æ 1 –¥–µ–Ω—å! ‚≠ê';
            } else {
                document.getElementById('message').textContent = `–ü—Ä–∞–∑–¥–Ω–∏–∫ —É–∂–µ –±–ª–∏–∑–∫–æ! –û—Å—Ç–∞–ª–æ—Å—å ${days} –¥–Ω–µ–π! üéÑ`;
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(updateCountdown, 1000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(updateAdditionalInfo, 1000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(updateCurrentTime, 1000);
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        updateCountdown();
        updateAdditionalInfo();
        updateCurrentTime();
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
        async function getWeather() {
            const loadingEl = document.getElementById('weather-loading');
            const errorEl = document.getElementById('weather-error');
            const weatherContainer = document.querySelector('.weather-container');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–≥–æ–¥—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            weatherContainer.style.opacity = '0';
            loadingEl.style.display = 'block';
            errorEl.style.display = 'none';
            
            try {
                // –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const location = await new Promise((resolve, reject) => {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(
                            (position) => {
                                resolve({
                                    lat: position.coords.latitude,
                                    lon: position.coords.longitude
                                });
                            },
                            () => {
                                // –ï—Å–ª–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫
                                resolve({ lat: 56.0184, lon: 92.8672 });
                            },
                            { timeout: 5000 }
                        );
                    } else {
                        // –ï—Å–ª–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫
                        resolve({ lat: 56.0184, lon: 92.8672 });
                    }
                });
                
                // –ü–æ–ª—É—á–∞–µ–º –ø–æ–≥–æ–¥—É —Å OpenWeatherMap API
                const apiKey = '3c9c7c2349b44f12237483b59bda63ec'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –∫–ª—é—á
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${location.lat}&lon=${location.lon}&units=metric&lang=ru&appid=${apiKey}`);
                
                if (!response.ok) {
                    throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ');
                }
                
                const data = await response.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã
                const temp = Math.round(data.main.temp);
                const feelsLike = Math.round(data.main.feels_like);
                const humidity = data.main.humidity;
                const windSpeed = Math.round(data.wind.speed);
                const description = data.weather[0].description;
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–∫–æ–Ω–∫—É –ø–æ–≥–æ–¥—ã
                let weatherIcon = '‚òÅÔ∏è';
                switch (data.weather[0].main.toLowerCase()) {
                    case 'clear':
                        weatherIcon = '‚òÄÔ∏è';
                        break;
                    case 'clouds':
                        weatherIcon = '‚òÅÔ∏è';
                        break;
                    case 'rain':
                        weatherIcon = 'üåßÔ∏è';
                        break;
                    case 'drizzle':
                        weatherIcon = 'üå¶Ô∏è';
                        break;
                    case 'thunderstorm':
                        weatherIcon = '‚õàÔ∏è';
                        break;
                    case 'snow':
                        weatherIcon = '‚ùÑÔ∏è';
                        break;
                    case 'mist':
                    case 'fog':
                    case 'haze':
                        weatherIcon = 'üå´Ô∏è';
                        break;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ osadkov
                const precipitation = data.rain?.['1h'] || data.snow?.['1h'] || 0;
                const precipitationElement = document.getElementById('weather-precipitation');
                const precipitationValueElement = document.getElementById('weather-rain');
                
                if (precipitation > 0) {
                    precipitationElement.style.display = 'flex';
                    precipitationValueElement.textContent = `${precipitation.toFixed(1)} –º–º`;
                } else {
                    precipitationElement.style.display = 'none';
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É–≥—Ä–æ–±—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ osadkov
                updateSnowdrift(precipitation);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —á–∞—Å—Ç–æ—Ç—É —Å–Ω–µ–∂–∏–Ω–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Å–∞–¥kov
                updateSnowflakeFrequency(precipitation);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–≥–æ–¥—ã
                document.getElementById('weather-temp').textContent = `${temp}¬∞C`;
                document.getElementById('weather-feels').textContent = `${feelsLike}¬∞C`;
                document.getElementById('weather-humidity').textContent = `${humidity}%`;
                document.getElementById('weather-wind').textContent = `${windSpeed} –º/—Å`;
                document.getElementById('weather-desc').textContent = description;
                document.getElementById('weather-icon').textContent = weatherIcon;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–≥–æ–¥—É
                weatherContainer.style.opacity = '1';
                loadingEl.style.display = 'none';
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã:', error);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                weatherContainer.style.opacity = '0.5';
                
                // –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞
                setTimeout(getWeather, 5000);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
        function setupWeatherUpdateSchedule() {
            const now = new Date();
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —á–∞—Å–∞
            const minutesToNextHour = 60 - now.getMinutes();
            const secondsToNextHour = (minutesToNextHour * 60) - now.getSeconds() - Math.floor(now.getMilliseconds() / 1000);
            
            // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã
            const msToNextHour = secondsToNextHour * 1000 + (1000 - now.getMilliseconds());
            
            console.log(`–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑: ${Math.floor(msToNextHour / 60000)} –º–∏–Ω—É—Ç`);
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —á–∞—Å–∞
            setTimeout(() => {
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–≥–æ–¥—É
                getWeather();
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
                setInterval(getWeather, 60 * 60 * 1000); // –ö–∞–∂–¥—ã–π —á–∞—Å
            }, msToNextHour);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É–≥—Ä–æ–±–æ–≤
        function updateSnowdrift(precipitation) {
            const snowdrift = document.getElementById('snowdrift');
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã—Å–æ—Ç—É —Å—É–≥—Ä–æ–±–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Å–∞–¥–∫–æ–≤
            // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ - 100px –ø—Ä–∏ 10–º–º –æ—Å–∞–¥–∫–æ–≤
            const maxPrecipitation = 10; // –º–º
            const maxHeight = 100; // px
            
            let height = 0;
            if (precipitation > 0) {
                height = Math.min((precipitation / maxPrecipitation) * maxHeight, maxHeight);
            }
            
            // –ü–ª–∞–≤–Ω–æ –∏–∑–º–µ–Ω—è–µ–º –≤—ã—Å–æ—Ç—É —Å—É–≥—Ä–æ–±–∞
            snowdrift.style.height = height + 'px';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –≤ —Å—É–≥—Ä–æ–± –ø—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ—Å–∞–¥–∫–æ–≤
            if (precipitation > 0.5) {
                createSnowParticles(precipitation);
            } else {
                // –û—á–∏—â–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—Å–∞–¥–∫–æ–≤
                clearSnowParticles();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫ –≤ —Å—É–≥—Ä–æ–±–µ
        function createSnowParticles(precipitation) {
            const snowdrift = document.getElementById('snowdrift');
            const existingParticles = snowdrift.querySelectorAll('.snow-particle');
            
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —á–∞—Å—Ç–∏—Ü—ã
            existingParticles.forEach(particle => particle.remove());
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Å–∞–¥–∫–æ–≤
            const particleCount = Math.floor(precipitation * 3); // 3 —á–∞—Å—Ç–∏—Ü—ã –Ω–∞ –∫–∞–∂–¥—ã–π –º–º
            const maxParticles = 20; // –ú–∞–∫—Å–∏–º—É–º 20 —á–∞—Å—Ç–∏—Ü
            
            for (let i = 0; i < Math.min(particleCount, maxParticles); i++) {
                const particle = document.createElement('div');
                particle.className = 'snow-particle';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –ø–æ–∑–∏—Ü–∏–∏
                const size = Math.random() * 4 + 2; // 2-6px
                const left = Math.random() * 100; // 0-100%
                const bottom = Math.random() * 20; // 0-20px –æ—Ç –Ω–∏–∑–∞
                
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = left + '%';
                particle.style.bottom = bottom + 'px';
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                const delay = Math.random() * 8;
                particle.style.animationDelay = delay + 's';
                
                snowdrift.appendChild(particle);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–Ω–µ–∂–∏–Ω–æ–∫
        function clearSnowParticles() {
            const snowdrift = document.getElementById('snowdrift');
            const particles = snowdrift.querySelectorAll('.snow-particle');
            particles.forEach(particle => particle.remove());
        }

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–Ω–µ–∂–∏–Ω–∫–∞–º–∏
        let snowflakeInterval;
        let currentPrecipitation = 0;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã —Å–Ω–µ–∂–∏–Ω–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Å–∞–¥–∫–æ–≤
        function updateSnowflakeFrequency(precipitation) {
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            if (snowflakeInterval) {
                clearInterval(snowflakeInterval);
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å–Ω–µ–∂–∏–Ω–∫–∞–º–∏
            // –ë–µ–∑ –æ—Å–∞–¥–∫–æ–≤: 2000–º—Å (—Ä–µ–¥–∫–∏–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Å–Ω–µ–∂–∏–Ω–∫–∏)
            // –ü—Ä–∏ 10–º–º –æ—Å–∞–¥–∫–æ–≤: 100–º—Å (–æ—á–µ–Ω—å —á–∞—Å—Ç—ã–µ)
            const minInterval = 100; // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            const maxInterval = 2000; // –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            
            let interval = maxInterval;
            if (precipitation > 0) {
                const maxPrecipitation = 10; // –º–º
                interval = Math.max(minInterval, maxInterval - (precipitation / maxPrecipitation) * (maxInterval - minInterval));
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            snowflakeInterval = setInterval(createSnowflakes, interval);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å–∞–¥–∫–æ–≤
            currentPrecipitation = precipitation;
        }
        
        // –°–æ–∑–¥–∞–µ–º —Å–Ω–µ–∂–∏–Ω–∫–∏ –∫–∞–∂–¥—ã–µ 300–º—Å
        setInterval(createSnowflakes, 300);
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        getWeather();
        setupWeatherUpdateSchedule();
    </script>
</body>
</html>
